name = "ozb-rss-worker"
main = "src/worker.js"
compatibility_date = "2024-10-01"
account_id = "your-account-id"

kv_namespaces = [
  { binding = "OZB_KV", id = "YOUR_KV_ID", preview_id = "YOUR_KV_PREVIEW_ID" }
]

[triggers]
# 15-minute checks + 3-hour summaries (AEST=UTC+10): 00:00, 03:00, 06:00...
crons = ["*/15 * * * *", "0 14,17,20,23,2,5,8,11 * * *"]

[vars]
# RSS source; change if OzBargain updates its feed URL
RSS_URL = "https://www.ozbargain.com.au/feed"
# Set to true if you want to notify on the first run
FIRST_RUN_SEND = "true"
# Optional filters
KEYWORDS_INCLUDE = ""
KEYWORDS_EXCLUDE = ""
MIN_DISCOUNT = ""
MAX_PRICE = ""
HISTORY_ITEMS = "3"
SUMMARY_LIMIT = "15"
SEEN_GUIDS_LIMIT = "200"
